<?xml version="1.0" encoding="UTF-8"?>
<!-- OGF GLUE 2.0 - XML Schema mapping
    Release: 31 Mar 2011

    Copyright (c) 2011

    Sergio Andreozzi (EGI.eu)
    Balazs Konya (Lund University)
    Shiraz Memon (Forschungszentrum Juelich GmbH)
    Paul Millar (DESY)
    Adrian Taga (Oslo University) 

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
    
    
    
DM Modifications For Review by the GLUE WG 
===================================================
1) The main entities are rendered as global global elements so that 3rd party 
   XSD can import this schema and re-use those elements. 
2) XSD includes abstract elements with corresponding concrete implementations
  (e.g. abstract <Domain> and concrete <AdminDomain>, <UserDomain>). 
3) The <Entities> element references abstract elements. In doing this, new 
   element specialisations that define the appropriate susbstition group 
   can be nested within the 'Entities' element in future/extending profiles 
   (requires no modification of this XSD). 
   
Still To Address: 
==================
- There are a number of minor TODOs to address in the XSD identifying possible 
issues/choices (please search on 'TODO' below).

- The <Associations> elements are made mandatory using <element name="Associations" minOccurs="1" maxOccurs="1"> 
(even if all their nested child elements are optional). This is because
if the <Associations> element was made optional (with minOccurs="0"), then a nested association that 
is required may be erroneously dropped if the parent <Associations> is not rendered. 
By making the parent <Associations> element mandatory, this cannot happen. 
This is also consistent and explicitly makes it clear that this entity has no 
associations (i.e. using an empty <Associations/> element in an instance doc). 

- Identify other issues. 
- Decide on a consistent <annotation><documentation> style

-->
<?xml-stylesheet href="xs3p.xsl" type="text/xsl"?>
<schema targetNamespace="http://schemas.ogf.org/glue/2009/03/spec_2.0_r1" xmlns="http://www.w3.org/2001/XMLSchema"
        xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:glue="http://schemas.ogf.org/glue/2009/03/spec_2.0_r1"
        xmlns:xhtml="http://www.w3.org/1999/xhtml"
        elementFormDefault="qualified"
        attributeFormDefault="unqualified">

    <!-- Entities is the DOCUMENT ROOT ELEMENT -->
    <element name="Entities" type="glue:ExtensibleEntities_t">
     <annotation>
        <documentation>
            <![CDATA[
            Entities is the Document Root element. 
            It wraps an ordered list of GLUE entities. 
            This element nests both concrete elements and abstract 
            elements which are designed to be implemented/extended 
            by concrete element specialisations. Those elements must use the 
            corresponding XSD substitutionGroup="<abstract/head element name>")
            As an example, the abstract 'Domain' element can be substituted for 
            either 'AbstractDomain' or 'UserDomain.' 
             
            In future/extending profiles, new element specialisations that 
            define the appropriate susbstition group can be nested within the 
            'Entities' element in place of the abstract/head elements. 
            This requires no future modification of this XSD (but would require 
            validation against both XSDs - this and the extending XSD). 
            ]]>
        </documentation>
    </annotation>
    </element> 
    <complexType name="ExtensibleEntities_t">
        <sequence>
            <element ref="glue:Location" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:Contact" minOccurs="0" maxOccurs="unbounded"/>
            <!-- 
            Domains, Services, Endpoints, Shares, Managers, Resources, 
            Activites, Policies: are wrapper elements that group related elements 
            together (i.e. those elements that belonging to a common substitutionGroup). 
            This facilitates simple XPath queries, e.g. select all Domains or select 
            all Services. This is also useful for visualizing large instance documents
            as tools can collapse/expand groups.
            -->  
            <element name="Domains" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                        <element ref="glue:Domain" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>    
            <element name="Services" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                         <element ref="glue:AbstractService" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>            
            <element name="Endpoints" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                          <element ref="glue:AbstractEndpoint" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>
            <element name="Shares" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                          <element ref="glue:Share" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>
            <element name="Managers" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                          <element ref="glue:Manager" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>
            <element name="Resources" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                          <element ref="glue:Resource" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>
            <element name="Activities" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                       <element ref="glue:AbstractActivity" minOccurs="0" maxOccurs="unbounded"/>   
                    </sequence>
                </complexType>
            </element>
            <element name="Policies" minOccurs="0" maxOccurs="1">
                <complexType>
                    <sequence>
                        <element ref="glue:Policy" minOccurs="0" maxOccurs="unbounded"/>  
                    </sequence>
                </complexType>
            </element>

            <!-- Concrete element references with no wrapper element-->  
            <element ref="glue:Benchmark" minOccurs="0" maxOccurs="unbounded"/>  
            <element ref="glue:ApplicationEnvironment" minOccurs="0" maxOccurs="unbounded"/>         
            <element ref="glue:ToComputingService" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:ToStorageService" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:StorageAccessProtocol" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:StorageServiceCapacity" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:StorageShareCapacity" minOccurs="0" maxOccurs="unbounded"/>
            <element ref="glue:ApplicationHandle" minOccurs="0" maxOccurs="unbounded"/>
        </sequence>
    </complexType>     

    <!--  BEGIN MAIN ENTITIES  -->
    
    <!--
    Abstract Domain and implementations
    ===================================
    -->
    <element name="Domain" type="glue:Domain_t" abstract="true"/>
    <element name="AdminDomain" type="glue:AdminDomain_t" substitutionGroup="glue:Domain"/>
    <element name="UserDomain" type="glue:UserDomain_t" substitutionGroup="glue:Domain"/>
    
    <!--
    AbstractService and implementations
    ====================================
    Implementations that substitute AbstractService must be the same as, or derived from, ServiceBase_t type. 
    -->
    <element name="AbstractService" type="glue:ServiceBase_t" abstract="true"/>
    <element name="Service" type="glue:Service_t" substitutionGroup="glue:AbstractService"/>
    <element name="ComputingService" type="glue:ComputingService_t" substitutionGroup="glue:AbstractService"/>
    <element name="StorageService" type="glue:StorageService_t" substitutionGroup="glue:AbstractService"/>
          
    <!--
    AbstractEndpoint and implementations
    =====================================
    Implementations that substitute AbstractEndpoint must be the same as, or derived from, EndpointBase_t type. 
    -->
    <element name="AbstractEndpoint" type="glue:EndpointBase_t" abstract="true"/>
    <element name="Endpoint" type="glue:Endpoint_t" substitutionGroup="glue:AbstractEndpoint"/> 
    <element name="ComputingEndpoint" type="glue:ComputingEndpoint_t" substitutionGroup="glue:AbstractEndpoint"/>
    <element name="StorageEndpoint" type="glue:StorageEndpoint_t" substitutionGroup="glue:AbstractEndpoint"/>
 
    <!--
    Abstract Share and implementations
    ===================================
    Implementations that substitute Share must be the same as, or derived from, ShareBase_t type. 
    -->
    <element name="Share" type="glue:ShareBase_t" abstract="true"/>
    <element name="ComputingShare" type="glue:ComputingShare_t" substitutionGroup="glue:Share"/>
    <element name="StorageShare" type="glue:StorageShare_t" substitutionGroup="glue:Share"/>      
      
    <!--
    Abstract Manager and implementations
    ===================================
    Implementations that substitute Manager must be the same as, or derived from, Manager_t type. 
    -->
    <element name="Manager" type="glue:Manager_t" abstract="true"/>
    <element name="StorageManager" type="glue:StorageManager_t" substitutionGroup="glue:Manager"/>
    <element name="ComputingManager" type="glue:ComputingManager_t" substitutionGroup="glue:Manager"/>
                     
    <!--
    Abstract Resource and implementations
    =====================================
    Implementations that substitute Resource must be the same as, or derived from, ResourceBase_t type 
    -->
    <element name="Resource" type="glue:ResourceBase_t" abstract="true"/>
    <element name="DataStore" type="glue:DataStore_t" substitutionGroup="glue:Resource"/>
    <element name="ExecutionEnvironment" type="glue:ExecutionEnvironment_t" substitutionGroup="glue:Resource"/> 
              
    <!--
    Activity and implementations
    =====================================
    Implementations that substitute Activity must be the same as, or derived from, ActivityBase_t type. 
    -->
    <element name="AbstractActivity" type="glue:ActivityBase_t" abstract="true"/>
    <element name="Activity" type="glue:Activity_t" substitutionGroup="glue:AbstractActivity"/>
    <element name="ComputingActivity" type="glue:ComputingActivity_t" substitutionGroup="glue:AbstractActivity"/>
   
    <!--
    Abstract Policy and implementations
    ===================================
    Implementations that substitute Policy must be the same as, or derived from, Policy_t type
    -->                            
    <element name="Policy" type="glue:Policy_t" abstract="true"/>
    <element name="AccessPolicy" type="glue:AccessPolicy_t" substitutionGroup="glue:Policy"/>
    <element name="MappingPolicy" type="glue:MappingPolicy_t" substitutionGroup="glue:Policy"/>
      
      
    <!-- 
    Concrete/Non-Substitutable Entities 
    ===================================
    --> 
    <element name="Location" type="glue:Location_t"/>
    <element name="Contact" type="glue:Contact_t"/>
    <element name="Benchmark" type="glue:Benchmark_t" />
    <element name="ApplicationEnvironment" type="glue:ApplicationEnvironment_t"/>
    <element name="ToComputingService" type="glue:ToComputingService_t"/>
    <element name="ToStorageService" type="glue:ToStorageService_t"/> 
    <element name="StorageAccessProtocol" type="glue:StorageAccessProtocol_t"/> 
    <element name="StorageServiceCapacity" type="glue:StorageServiceCapacity_t"/> 
    <element name="StorageShareCapacity" type="glue:StorageShareCapacity_t"/> 
    <element name="ApplicationHandle" type="glue:ApplicationHandle_t"/> 

    <!--
    TODO: Don't think we need these elements now
    <element name="ExecutionEnvironments">
        <complexType>
            <sequence>
                <element ref="glue:ExecutionEnvironment" minOccurs="0" maxOccurs="unbounded"/>
            </sequence>
        </complexType>
    </element>-->   
    <!--<element name="ComputingActivities">
        <complexType>
            <sequence>
                <element ref="glue:ComputingActivity" minOccurs="0" maxOccurs="unbounded"/>
            </sequence>
        </complexType>
    </element>-->  
    <!--<element name="ApplicationEnvironments">
        <complexType>
            <sequence>
                <element ref="glue:ApplicationEnvironment" minOccurs="0" maxOccurs="unbounded"/>
            </sequence>
        </complexType>
    </element>-->


    <complexType name="Extension_t">
        <sequence>
            <element name="LocalID" type="glue:LocalID_t" minOccurs="1" maxOccurs="1"/>
            <element name="Key" type="string" minOccurs="1" maxOccurs="1"/>
            <element name="Value" type="string" minOccurs="1" maxOccurs="1"/>
            <xs:any namespace="##other" processContents="lax" minOccurs="0" maxOccurs="1"/>
        </sequence>
    </complexType>

    <complexType name="Extensions_t">
        <sequence>
            <element name="Extension" type="glue:Extension_t" minOccurs="0" maxOccurs="unbounded"/>
        </sequence>
    </complexType>

    <complexType abstract="true" name="Entity_t">
        <sequence>
            <!-- TODO Decide if we want to restrict the format of ID 
             (and thus ID_t at bottom of XSD) to anyURI. 
             The conceptual spec specifies URI as the global unique ID format
             (see Entity class). However, should we restrict the 
             values to URIs (e.g. GOCDB does not use URIs for unique IDs).
             Maybe this should restrict on string instead. 
            -->
            <element name="ID" type="anyURI" minOccurs="1" maxOccurs="1"/>
            <element name="Name" type="string" minOccurs="0" maxOccurs="1"/>
            <element name="OtherInfo" type="string" minOccurs="0" maxOccurs="unbounded"/>
            <element name="Extensions" type="glue:Extensions_t" minOccurs="0" maxOccurs="1"/>
        </sequence>
        <attribute name="CreationTime" type="glue:DateTime_t"/>
        <attribute name="Validity" type="unsignedLong"/>
    </complexType>


    <complexType name="Location_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Address" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="Place" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="Country" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="PostCode" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="Latitude" type="glue:Latitude_t" minOccurs="0" maxOccurs="1"/>
                    <element name="Longitude" type="glue:Longitude_t" minOccurs="0" maxOccurs="1"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[A Location is related to zero or more Service implementations, including ComputingService and StorageService.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="DomainID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[A Location is related to zero or more Domain implementations, including AdminDomain and other UserDomain.]]></documentation>
                                    </annotation>
                                </element>
                            </sequence>  
                        </complexType> 
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="Contact_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Detail" type="anyURI" minOccurs="1" maxOccurs="1"/>
                    <element name="Type" type="glue:ContactType_t" minOccurs="1" maxOccurs="1"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[A Contact is related to zero or more Service implementations, including ComputingService and StorageService.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="DomainID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[A Contact is related to zero or more Domain implementations, including AdminDomain and other UserDomain.]]></documentation>
                                    </annotation>
                                </element>
                            </sequence>  
                        </complexType> 
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType abstract="true" name="Domain_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Description" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="WWW" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                </sequence>
                <attribute name="BaseType" fixed="Domain" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="AdminDomain_t">
        <complexContent>
            <extension base="glue:Domain_t">
                <sequence>
                    <element name="Distributed" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="Owner" type="string" minOccurs="0" maxOccurs="unbounded"/>            
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>  
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[An AdminDomain can manage zero or more service implementations including Service, ComputingService and StorageService.]]></documentation>
                                    </annotation>
                                </element>
                                <!-- 
                                TODO: Are AdminDomainAggregationID and AdminDomainParticipationID suitable names ?
                                I think we need to distinguish between those AdminDomains which are aggregated and 
                                the participation AdminDomain as described in the conceptual spec. 
                                -->
                                <element name="AdminDomainAggregationID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[An AdminDomain aggregates zero or more AdminDomains.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="AdminDomainParticipationID" type="glue:ID_t" minOccurs="0" maxOccurs="1">
                                    <annotation>
                                        <documentation><![CDATA[An AdminDomain can participate in another AdminDomain.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="ContactID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="LocationID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="UserDomain_t">
        <complexContent>
            <extension base="glue:Domain_t">
                <sequence>
                    <element name="Level" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="UserManager" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Member" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>                          
                                <!-- 
                                TODO: do we want to add <MappingPolicyID> and <AccessPolicyID> elements also?
                                Currenty, we just define <PolicyID> - Policy is abstract and so PolicyID 
                                can reference any Policy implementation (recommended). 
                                --> 
                                <element name="PolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                   <annotation>
                                        <documentation><![CDATA[A UserDomain has zero or more policies, this includes AccessPolicies and MappingPolicies.]]></documentation>
                                    </annotation>
                                </element>
                                <!-- 
                                TODO are UserDomainAggregationID and UserDomainParticipationID suitable names? 
                                I think we need to distinguish between which UserDomains are aggregated by 
                                this UserDomain and which is in participation with this UserDomain (as described in the conceptual spec). 
                                -->
                                <element name="UserDomainAggregationID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded">
                                    <annotation>
                                        <documentation><![CDATA[A UserDomain can aggregate zero or more User Domains.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="UserDomainParticipationID" type="glue:ID_t" minOccurs="0" maxOccurs="1">
                                    <annotation>
                                        <documentation><![CDATA[A UserDomain can participate in another User Domain.]]></documentation>
                                    </annotation>
                                </element>
                                <element name="ContactID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="LocationID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType abstract="true" name="ServiceBase_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Capability" type="glue:Capability_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Type" type="glue:ServiceType_t" minOccurs="1" maxOccurs="1"/>
                    <element name="QualityLevel" type="glue:QualityLevel_t" minOccurs="1" maxOccurs="1"/>
                    <element name="StatusInfo" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Complexity" type="string" minOccurs="0" maxOccurs="1"/>
                </sequence>
                <attribute name="BaseType" fixed="Service" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="Service_t">
        <complexContent>
            <extension base="glue:ServiceBase_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                             <annotation>
                                 <documentation><![CDATA[
                                 A Service exposes zero or more Endpoints, Shares and Managers. 
                                 A Service is autonomous and denotes a weak aggregation among Endpoints, the 
                                 underlying Managers and the related resources, and the defined Shares. 
                                 Since the Service associations denote weak aggregations, the Endpoint, Share and 
                                 Manager implementations are not redefined to reference specific implementations. 
                                 ]]></documentation>
                              </annotation>
                            <sequence>                           
                                <element name="EndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ShareID" type="glue:LocalID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ManagerID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ContactID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="LocationID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <!--
    Alternative nested rendering (would need checking). 
    <complexType name="Service_t">
        <complexContent>
            <extension base="glue:ServiceBase_t">
                <sequence>
                    <element ref="glue:Endpoint" minOccurs="0" maxOccurs="unbounded"/>
                    <element ref="glue:Share" minOccurs="0" maxOccurs="unbounded"/>
                    <element ref="glue:Manager" minOccurs="0" maxOccurs="unbounded"/>
                    <element ref="glue:Contact" minOccurs="0" maxOccurs="unbounded"/>
                    <element ref="glue:Location" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    -->
    

    <complexType abstract="true" name="EndpointBase_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="URL" type="anyURI" minOccurs="1" maxOccurs="1"/>
                    <element name="Capability" type="glue:Capability_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Technology" type="glue:EndpointTechnology_t" minOccurs="0" maxOccurs="1"/>
                    <element name="InterfaceName" type="glue:InterfaceName_t" minOccurs="1" maxOccurs="1"/>
                    <element name="InterfaceVersion" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="InterfaceExtension" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="WSDL" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="SupportedProfile" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Semantics" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Implementor" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ImplementationName" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ImplementationVersion" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="QualityLevel" type="glue:QualityLevel_t" minOccurs="1" maxOccurs="1"/>
                    <element name="HealthState" type="glue:EndpointHealthState_t" minOccurs="1" maxOccurs="1"/>
                    <element name="HealthStateInfo" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ServingState" type="glue:ServingState_t" minOccurs="1" maxOccurs="1"/>
                    <element name="StartTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="IssuerCA" type="glue:DN_t" minOccurs="0" maxOccurs="1"/>
                    <element name="TrustedCA" type="glue:DN_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="DowntimeAnnounce" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="DowntimeStart" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="DowntimeEnd" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="DowntimeInfo" type="string" minOccurs="0" maxOccurs="1"/>
                </sequence>
                <attribute name="BaseType" fixed="Endpoint" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="Endpoint_t">
        <complexContent>
            <extension base="glue:EndpointBase_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ShareID" type="glue:LocalID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="AccessPolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>   
                        </complexType>
                    </element>    
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType abstract="true" name="ShareBase_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Description" type="string" minOccurs="0" maxOccurs="1"/>
                </sequence>
                <attribute name="BaseType" fixed="Share" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <!-- Share_t is not defined because it is an abstract entity -->

    <complexType abstract="true" name="Manager_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence> 
                    <element name="ProductName" type="string"/>
                    <element name="ProductVersion" type="string" minOccurs="0"/>
                </sequence>
                <attribute name="BaseType" fixed="Manager" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <complexType abstract="true" name="ResourceBase_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence> </sequence>
                <attribute name="BaseType" fixed="Resource" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <!-- TODO consider to remove it
    <complexType abstract="true" name="Resource_t">
        <complexContent>
            <extension base="glue:ResourceBase_t">
                <sequence>
                    <element name="Associations" minOccurs="0" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ActivityID" type="anyURI" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
     -->

    <complexType abstract="true" name="ActivityBase_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence> </sequence>
                <attribute name="BaseType" fixed="Activity" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    
    <complexType name="Activity_t">
        <complexContent>
            <extension base="glue:ActivityBase_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="UserDomainID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="EndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ShareID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ResourceID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType abstract="true" name="Policy_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Scheme" type="glue:PolicyScheme_t" minOccurs="1" maxOccurs="1"/>
                    <element name="Rule" type="string" minOccurs="1" maxOccurs="unbounded"/>
                </sequence>
                <attribute name="BaseType" fixed="Policy" use="required"/>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="AccessPolicy_t">
        <complexContent>
            <extension base="glue:Policy_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="EndpointID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="UserDomainID" type="glue:ID_t" minOccurs="1" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="MappingPolicy_t">
        <complexContent>
            <extension base="glue:Policy_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ShareID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="UserDomainID" type="glue:ID_t" minOccurs="1" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <!--  END MAIN ENTITIES  -->
    
    

    <!--  BEGIN COMPUTING ENTITIES  -->
    <complexType name="ComputingService_t">
        <complexContent>
            <extension base="glue:ServiceBase_t">
                <sequence>
                    <element name="TotalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="WaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="StagingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SuspendedJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="PreLRMSWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>                  
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>        
                                <!-- Associations redefined from Service-->                            
                                <element name="ComputingEndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingShareID" type="glue:LocalID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingManagerID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- TODO An association with ToStorageService isn't listed 
                                in the conceptual spec for the ComputingService entity (page 24). However, 
                                a ToStorageService does have an association with ComputingServiceID. Does 
                                this mean that the relationship is intended to be uni-directional (i.e. only 
                                the ToStorageService can 'see' its association with ComputingService or is this 
                                a typo in the conceptual spec and this association should be listed?-->
                                <!--<element name="ToStorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="0"/>-->                              

                                <!-- Associations required by parent Service -->   
                                <element name="ContactID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="LocationID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <!--
    Alternative nested style rendering (needs checking)
    <complexType name="ComputingService_t">
        <complexContent>
            <extension base="glue:ServiceBase_t">
                <sequence>
                    <element name="TotalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="WaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="StagingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SuspendedJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="PreLRMSWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>                  
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>        
                                <element ref="glue:ComputingEndpoint" minOccurs="0" maxOccurs="unbounded"/>
                                <element ref="glue:ComputingShare" minOccurs="0" maxOccurs="unbounded"/>
                                <element ref="glue:ComputingManager" minOccurs="0" maxOccurs="unbounded"/>
                                <element ref="glue:StorageService" minOccurs="0" maxOccurs="unbounded"/>
                                <element ref="glue:ToStorageService" minOccurs="0" maxOccurs="1"/>
                                <element ref="glue:Contact" minOccurs="0" maxOccurs="unbounded"/>
                                <element ref="glue:Location" minOccurs="0" maxOccurs="1"/>
                                <element ref="glue:Service" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    -->
    

    <complexType name="ComputingEndpoint_t">
        <complexContent>
            <extension base="glue:EndpointBase_t">
                <sequence>
                    <element name="Staging" type="glue:Staging_t" minOccurs="0" maxOccurs="1"/>
                    <element name="JobDescription" type="glue:JobDescription_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="TotalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="WaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="StagingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SuspendedJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="PreLRMSWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations redefined from Endpoint -->                                
                                <element name="ComputingServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ComputingShareID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- Associations required by parent Endpoint -->
                                <element name="AccessPolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                    <!--<element ref="glue:ComputingActivities" minOccurs="0" maxOccurs="1"/>-->
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ComputingShare_t">
        <complexContent>
            <extension base="glue:ShareBase_t">
                <sequence>
                    <element name="MappingQueue" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxMultiSlotWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MinWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="DefaultWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxTotalCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MinCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="DefaultCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxTotalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxRunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxPreLRMSWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxUserRunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxSlotsPerJob" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxStateInStreams" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxStageOutStreams" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SchedulingPolicy" type="glue:SchedulingPolicy_t" minOccurs="0"/>
                    <element name="MaxMainMemory" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="GuaranteedMainMemory" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxVirtualMemory" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="GuaranteedVirtualMemory" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxDiskSpace" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="DefaultStorageService" type="anyURI" minOccurs="0" maxOccurs="1"/>
                    <element name="Preemption" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="ServingState" type="glue:ServingState_t" minOccurs="1" maxOccurs="1"/>
                    <element name="TotalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="LocalRunningJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="WaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="LocalWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SuspendedJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="LocalSuspendedJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="StagingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="PreLRMSWaitingJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="EstimatedAverageWaitingTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="EstimatedWorstWaitingTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="FreeSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="FreeSlotsWithDuration" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="UsedSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RequestedSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="ReservationPolicy" type="glue:ReservationPolicy_t" minOccurs="0" maxOccurs="1"/>
                    <element name="Tag" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Share -->
                                <element name="ComputingEndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ExecutionEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ComputingActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- Associations required by parent Share --> 
                                <element name="MappingPolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ComputingManager_t">
        <complexContent>
            <extension base="glue:Manager_t">
                <sequence>
                    <element name="Reservation" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="BulkSubmission" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="TotalPhysicalCPUs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="TotalLogicalCPUs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="TotalSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SlotsUsedByLocalJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="SlotsUsedByGridJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="Homogeneous" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="NetworkInfo" type="glue:NetworkInfo_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="LogicalCPUDistribution" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaShared" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaGuaranteed" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaTotal" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaFree" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaLifeTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaMultiSlotTotal" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaMultiSlotFree" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaMultiSlotLifeTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="CacheTotal" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="CacheFree" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="TmpDir" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ScratchDir" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ApplicationDir" type="string" minOccurs="0" maxOccurs="1"/>
                    <!--<element name="Benchmark" type="glue:Benchmark_t" minOccurs="0" maxOccurs="unbounded"/>-->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Manager-->
                                <element name="ComputingServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ExecutionEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ApplicationEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="BenchmarkID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="Benchmark_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Type" type="glue:BenchmarkType_t" minOccurs="1" maxOccurs="1"/>
                    <element name="Value" type="float" minOccurs="1" maxOccurs="1"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ExecutionEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ComputingManagerID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ExecutionEnvironment_t">
        <complexContent>
            <extension base="glue:ResourceBase_t">
                <sequence>
                    <element name="Platform" type="glue:Platform_t" minOccurs="1" maxOccurs="1"/>
                    <element name="VirtualMachine" type="glue:ExtendedBoolean_t" minOccurs="0" maxOccurs="1"/>
                    <element name="TotalInstances" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="UsedInstances" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="UnavailableInstances" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="PhysicalCPUs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="LogicalCPUs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUMultiplicity" type="glue:CPUMultiplicity_t" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUVendor" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUModel" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUVersion" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUClockSpeed" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="CPUTimeScalingFactor" type="float" minOccurs="0" maxOccurs="1"/>
                    <element name="WallTimeScalingFactor" type="float" minOccurs="0" maxOccurs="1"/>
                    <element name="MainMemorySize" type="unsignedLong" minOccurs="1" maxOccurs="1"/>
                    <element name="VirtualMemorySize" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="OSFamily" type="glue:OSFamily_t" minOccurs="1" maxOccurs="1"/>
                    <element name="OSName" type="glue:OSName_t" minOccurs="0" maxOccurs="1"/>
                    <element name="OSVersion" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ConnectivityIn" type="glue:ExtendedBoolean_t" minOccurs="1" maxOccurs="1"/>
                    <element name="ConnectivityOut" type="glue:ExtendedBoolean_t" minOccurs="1" maxOccurs="1"/>
                    <element name="NetworkInfo" type="glue:NetworkInfo_t" minOccurs="0" maxOccurs="unbounded"/>
                    <!--<element name="Benchmark" type="glue:Benchmark_t" minOccurs="0" maxOccurs="unbounded"/>-->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Redefined Associations -->
                                <element name="ComputingManagerID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ComputingShareID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ApplicationEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="BenchmarkID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ApplicationEnvironment_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="AppName" type="string" minOccurs="1" maxOccurs="1"/>
                    <element name="AppVersion" type="string" minOccurs="0" maxOccurs="1"/>
                    <!-- TODO added the Repository seemed to be missing before-->
                    <element name="Repository" type="anyURI" minOccurs="0" maxOccurs="1"/>
                    <element name="State" type="glue:AppEnvState_t" minOccurs="0" maxOccurs="1"/>
                    <element name="RemovalDate" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="License" type="glue:License_t" minOccurs="0" maxOccurs="1"/>
                    <element name="Description" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="BestBenchmark" type="glue:BenchmarkType_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="ParallelSupport" type="glue:ParallelSupport_t" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="MaxUserSeats" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="FreeSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="FreeJobs" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="FreeUserSeats" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <!--<element name="ApplicationHandle" type="glue:ApplicationHandle_t" minOccurs="0" maxOccurs="unbounded"/>-->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ExecutionEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingManagerID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="ApplicationHandleID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ApplicationHandle_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Type" type="glue:ApplicationHandleType_t" minOccurs="1" maxOccurs="1"/>
                    <element name="Value" type="string" minOccurs="1" maxOccurs="1"/>
                     <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- TODO Check the multiplicity of this association, according to the 
                                conceptual spec, the ApplicationHandle MAY be used for one application env, 
                                so should this be minOccurs = 0 -->
                                <element name="ApplicationEnvironmentID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                         </complexType>
                     </element>   
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ComputingActivity_t">
        <complexContent>
            <extension base="glue:ActivityBase_t">
                <sequence>
                    <element name="Type" type="glue:ComputingActivityType_t" minOccurs="0" maxOccurs="1"/>
                    <element name="IDFromEndpoint" type="anyURI" minOccurs="0" maxOccurs="1"/>
                    <element name="LocalIDFromManager" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="JobDescription" type="glue:JobDescription_t" minOccurs="0" maxOccurs="1"/>
                    <element name="State" type="glue:ComputingActivityState_t" minOccurs="1" maxOccurs="unbounded"/>
                    <element name="RestartState" type="glue:ComputingActivityState_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="ExitCode" type="int" minOccurs="0" maxOccurs="1"/>
                    <element name="ComputingManagerExitCode" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="Error" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="WaitingPosition" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="UserDomain" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="Owner" type="string" minOccurs="1" maxOccurs="1"/>
                    <element name="LocalOwner" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="RequestedTotalWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="RequestedTotalCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="RequestedSlots" type="unsignedInt" minOccurs="0" maxOccurs="1"/>
                    <element name="RequestedApplicationEnvironment" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="StdIn" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="StdOut" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="StdErr" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="LogDir" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="ExecutionNode" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Queue" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="UsedTotalWallTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="UsedTotalCPUTime" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="UsedMainMemory" type="unsignedLong" minOccurs="0" maxOccurs="1"/>
                    <element name="SubmissionTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="ComputingManagerSubmissionTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="StartTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="ComputingManagerEndTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="EndTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="WorkingAreaEraseTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="ProxyExpirationTime" type="glue:DateTime_t" minOccurs="0" maxOccurs="1"/>
                    <element name="SubmissionHost" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="SubmissionClientName" type="string" minOccurs="0" maxOccurs="1"/>
                    <element name="OtherMessages" type="string" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Redefined from Activity -->
                                <element name="ComputingEndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ComputingShareID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ExecutionEnvironmentID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <!-- Required by parent Activity -->
                                <element name="UserDomainID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ActivityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <complexType name="ToStorageService_t">
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="LocalPath" type="string" minOccurs="1" maxOccurs="1"/>
                    <element name="RemotePath" type="string" minOccurs="1" maxOccurs="1"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="ComputingServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>
    <!--  END COMPUTING ENTITIES  -->



    <!--  BEGIN STORAGE ENTITIES  -->

    <complexType name="StorageService_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#page=44"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        An abstracted, logical view of software and
                        hardware components that participate in the
                        creation of a storage capability in a Grid
                        environment. A Storage Service exposes zero or
                        more Endpoints having well-defined interfaces,
                        zero or more Storage Shares and zero or more
                        Storage Managers and the related Data Stores.
                        The Storage Service also offers zero or more
                        Storage Access Protocols, and provides summary
                        information about the overall amount of
                        storage by means of the Storage Service
                        Capacity.
                    </xhtml:p>
                    <xhtml:p>
                        The Storage Service is autonomous and denotes
                        a weak aggregation among Storage Endpoints,
                        Storage Shares, Storage Managers, Storage
                        Access Protocols and Storage Service
                        Capacities. The Storage Service enables the
                        identification of the entire set of entities
                        providing storage functionality with a
                        persistent name.
                  </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:ServiceBase_t">
                <sequence>
                    <!-- Previous nested approach:
                    <element ref="glue:StorageEndpoint" minOccurs="0" maxOccurs="unbounded">
                        <annotation>
                            <documentation xml:lang="en">
                                <xhtml:div>
                                    <xhtml:p>
                                        A storage service exposes zero or more storage endpoints.
                                    </xhtml:p>
                                </xhtml:div>
                            </documentation>
                        </annotation>
                    </element>
                    <element ref="glue:StorageShare" minOccurs="0" maxOccurs="unbounded">
                        <annotation>
                            <documentation xml:lang="en">
                                <xhtml:div>
                                    <xhtml:p>
                                        A storage service serves zero or more storage shares.
                                    </xhtml:p>
                                </xhtml:div>
                            </documentation>
                        </annotation>
                    </element>
                    <element ref="glue:StorageManager" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="StorageAccessProtocol" type="glue:StorageAccessProtocol_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="StorageServiceCapacity" type="glue:StorageServiceCapacity_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="ToComputingService" type="glue:ToComputingService_t" minOccurs="0" maxOccurs="unbounded"/>
                    -->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Endpoint-->   
                                <element name="StorageEndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="StorageShareID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="StorageManagerID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                
                                <element name="StorageAccessProtocolID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="StorageServiceCapacityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- TODO - Confirm this association is uni-directional; StorageService cannot see 
                                the association to ToComputingService (it is not defined in the conceptual spec so comment out for now) -->
                                <!-- <element name="ToComputingServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/> -->

                                <!-- Associations required by parent Endpoint -->   
                                <element name="ContactID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="LocationID" type="glue:ID_t" minOccurs="0" maxOccurs="1"/>
                                <element name="ServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="StorageServiceCapacity_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=45"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        Description of the size and usage of a
                        homogenous storage extent; the storage extent
                        is aggregated at the storage service level by
                        type.
                  </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Type" type="glue:StorageCapacity_t"/>
                    <element name="TotalSize" type="unsignedLong" minOccurs="0"/>
                    <element name="FreeSize" type="unsignedLong" minOccurs="0"/>
                    <element name="UsedSize" type="unsignedLong" minOccurs="0"/>
                    <element name="ReservedSize" type="unsignedLong" minOccurs="0"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>    
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="StorageAccessProtocol_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=46"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        A type of protocol available to access the
                        underlying storage extents.
                  </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <sequence>
            <element name="Type" type="glue:StorageAccessProtocolType_t"/>
            <element name="Version" type="string"/>
            <element name="MaxStreams" type="int" minOccurs="0"/>
            <element name="Associations" minOccurs="1" maxOccurs="1">
                <complexType>
                    <sequence>
                        <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/> 
                        <element name="ToComputingServiceID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                    </sequence>
                </complexType>
            </element>
        </sequence>
    </complexType>


    <complexType name="StorageEndpoint_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=47"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        An Endpoint usable for managing Storage Shares
                        or for accessing data stored in them; it MAY
                        also be used to expose complementary
                        capabilities which form part of the overall
                        Storage Service.
                  </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:EndpointBase_t">
                <sequence>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Endpoint -->                                
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="StorageShareID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- Required by parent Endpoint -->
                                <element name="AccessPolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- TODO Should we also inherit ActivityID from Endpoint? -->
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="StorageShare_t">
        <annotation>
          <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=48"
                         xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        A utilization target for a set of extents in
                        Data Stores, defined by a set of configuration
                        parameters and policies and characterized by
                        status information.
                    </xhtml:p>
                </xhtml:div>
          </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:ShareBase_t">
                <sequence>
                    <element name="ServingState" type="glue:ServingState_t" minOccurs="1" />
                    <element name="Path" type="string" minOccurs="0"/>
                    <element name="AccessMode" type="glue:AccessMode_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="SharingID" type="glue:LocalID_t" minOccurs="1"/>
                    <element name="AccessLatency" type="glue:AccessLatency_t" minOccurs="1"/>
                    <element name="RetentionPolicy" type="glue:RetentionPolicy_t" minOccurs="0" maxOccurs="unbounded"/>
                    <element name="ExpirationMode" type="glue:ExpirationMode_t" minOccurs="0" maxOccurs="3"/>
                    <element name="DefaultLifeTime" type="int" minOccurs="0"/>
                    <element name="MaximumLifeTime" type="int" minOccurs="0"/>
                    <element name="Tag" type="string" minOccurs="0"/>
                    <!--<element name="StorageShareCapacity" type="glue:StorageShareCapacity_t" minOccurs="0" maxOccurs="unbounded"/>-->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Share-->
                                <element name="StorageEndpointID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="DataStoreID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <!-- Associations required by this -->
                                <element name="StorageShareCapacityID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- Associations Required by parent Share -->
                                <element name="MappingPolicyID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- TODO Should we also inherit ActivityID from Share? -->
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="StorageShareCapacity_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=50"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        A description of the size and usage of a
                        homogenous storage extent available to a
                        Storage Share.
                    </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="Type" type="glue:StorageCapacity_t"/>
                    <element name="TotalSize" type="int" minOccurs="0"/>
                    <element name="FreeSize" type="int" minOccurs="0"/>
                    <element name="UsedSize" type="int" minOccurs="0"/>
                    <element name="ReservedSize" type="int" minOccurs="0"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="StorageShareID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element> 
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="StorageManager_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=51"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        The primary software component locally
                        managing one or more Data Stores. It MAY also
                        be used to describe aggregated information
                        about the managed resources.
                    </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:Manager_t">
                <sequence>
                    <!--<element ref="glue:DataStore" minOccurs="0" maxOccurs="unbounded"/>-->
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Manager-->
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="DataStoreID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="DataStore_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=51"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        An abstract description of a sufficiently
                        homogeneous storage device providing a storage
                        extent, managed by a local software component
                        (Storage Manager), part of a Storage Service,
                        reachable via zero or more Endpoints and
                        having zero or more Shares defined on it. A
                        Data Store refers to a category of storage
                        with summary information on the storage
                        capacity.
                    </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:ResourceBase_t">
                <sequence>
                    <element name="Type" type="glue:DataStoreType_t"/>
                    <element name="Latency" type="glue:AccessLatency_t"/>
                    <element name="TotalSize" type="int" minOccurs="0"/>
                    <element name="FreeSize" type="int" minOccurs="0"/>
                    <element name="UsedSize" type="int" minOccurs="0"/>
                    <element name="Associations" minOccurs="1" maxOccurs="1">
                        <complexType>
                            <sequence>
                                <!-- Associations Redefined from Resource-->
                                <element name="StorageManagerID" type="glue:ID_t" minOccurs="1" maxOccurs="1"/>
                                <element name="StorageShareID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <!-- TODO Should we also inherit ActivityID from Resource? -->
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>


    <complexType name="ToComputingService_t">
        <annotation>
            <documentation source="http://www.ogf.org/documents/GFD.147.pdf#Page=52"
                           xml:lang="en">
                <xhtml:div>
                    <xhtml:p>
                        A description of the network link quality
                        between a Storage Service and a computing
                        service, and/or of a potentially dedicated
                        access protocol that the Computing Service may
                        use to access the Storage Service.
                    </xhtml:p>
                </xhtml:div>
            </documentation>
        </annotation>
        <complexContent>
            <extension base="glue:Entity_t">
                <sequence>
                    <element name="NetworkInfo" type="glue:NetworkInfo_t" minOccurs="0"/>
                    <element name="Bandwidth" type="int" minOccurs="0"/>
                    <element name="Associations" minOccurs="1">
                        <complexType>
                            <sequence>
                                <element name="StorageAccessProtocolID" type="glue:ID_t" minOccurs="0" maxOccurs="unbounded"/>
                                <element name="ComputingServiceID" type="glue:ID_t" minOccurs="1"/>
                                <element name="StorageServiceID" type="glue:ID_t" minOccurs="1"/>
                            </sequence>
                        </complexType>
                    </element>
                </sequence>
            </extension>
        </complexContent>
    </complexType>

    <!--  END STORAGE ENTITIES  -->

    <!-- BEGIN DATA TYPES -->

    <simpleType name="AccessLatency_t">
        <restriction base="string">
            <enumeration value="online"/>
            <enumeration value="nearline"/>
            <enumeration value="offline"/>
        </restriction>
    </simpleType>

    <!-- FIXME this isn't defined in GLUE2.0 -->
    <simpleType name="AccessMode_t">
        <restriction base="string"/>
    </simpleType>

    <simpleType name="AppEnvState_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="installable"/>
                    <enumeration value="installationfailed"/>
                    <enumeration value="installedbroken"/>
                    <enumeration value="installednotverified"/>
                    <enumeration value="installedverified"/>
                    <enumeration value="installingautomatically"/>
                    <enumeration value="installingmanually"/>
                    <enumeration value="notinstallable"/>
                    <enumeration value="pendingremoval"/>
                    <enumeration value="removing"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ApplicationHandleType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="module"/>
                    <enumeration value="softenv"/>
                    <enumeration value="path"/>
                    <enumeration value="executable"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="BenchmarkType_t">
        <restriction base="xs:string">
            <annotation>
                <appinfo>
                    <enumeration value="bogomips"/>
                    <enumeration value="cfp2006"/>
                    <enumeration value="cint2006"/>
                    <enumeration value="linpack"/>
                    <enumeration value="specfp2000"/>
                    <enumeration value="specint2000"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="Capability_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="data.access.flatfiles"/>
                    <enumeration value="data.access.relational"/>
                    <enumeration value="data.access.xml"/>
                    <enumeration value="data.management.replica"/>
                    <enumeration value="data.management.storage"/>
                    <enumeration value="data.management.transfer"/>
                    <enumeration value="data.naming.resolver"/>
                    <enumeration value="data.naming.scheme"/>
                    <enumeration value="data.transfer"/>
                    <enumeration value="executionmanagement.candidatesetgenerator"/>
                    <enumeration value="executionmanagement.dynamicvmdeploy"/>
                    <enumeration value="executionmanagement.executionandplanning"/>
                    <enumeration value="executionmanagement.jobdescription"/>
                    <enumeration value="executionmanagement.jobexecution"/>
                    <enumeration value="executionmanagement.jobmanager"/>
                    <enumeration value="executionmanagement.reservation"/>
                    <enumeration value="information.discovery"/>
                    <enumeration value="information.logging"/>
                    <enumeration value="information.model"/>
                    <enumeration value="information.monitoring"/>
                    <enumeration value="information.provenance"/>
                    <enumeration value="security.accounting"/>
                    <enumeration value="security.attributeauthority"/>
                    <enumeration value="security.authentication"/>
                    <enumeration value="security.authorization"/>
                    <enumeration value="security.credentialstorage"/>
                    <enumeration value="security.delegation"/>
                    <enumeration value="security.identymapping"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ComputingActivityState_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="bes:failed"/>
                    <enumeration value="bes:finished"/>
                    <enumeration value="bes:pending"/>
                    <enumeration value="bes:running"/>
                    <enumeration value="bes:terminated"/>
                    <enumeration value="unicore:undefined"/>
                    <enumeration value="unicore:ready"/>
                    <enumeration value="unicore:queued"/>
                    <enumeration value="unicore:running"/>
                    <enumeration value="unicore:successful"/>
                    <enumeration value="unicore:failed"/>
                    <enumeration value="unicore:stagingin"/>
                    <enumeration value="unicore:stagingout"/>
                    <enumeration value="nordugrid:accepting"/>
                    <enumeration value="nordugrid:pending:accepted"/>
                    <enumeration value="nordugrid:accepted"/>
                    <enumeration value="nordugrid:pending:preparing"/>
                    <enumeration value="nordugrid:preparing"/>
                    <enumeration value="nordugrid:prepared"/>
                    <enumeration value="nordugrid:submitting"/>
                    <enumeration value="nordugrid:pending:inlrms"/>
                    <enumeration value="nordugrid:inlrms:q"/>
                    <enumeration value="nordugrid:inlrms:h"/>
                    <enumeration value="nordugrid:inlrms:r"/>
                    <enumeration value="nordugrid:inlrms:s"/>
                    <enumeration value="nordugrid:inlrms:e"/>
                    <enumeration value="nordugrid:inlrms:o"/>
                    <enumeration value="nordugrid:inlrms:executed"/>
                    <enumeration value="nordugrid:finishing"/>
                    <enumeration value="nordugrid:canceling"/>
                    <enumeration value="nordugrid:failed"/>
                    <enumeration value="nordugrid:killed"/>
                    <enumeration value="nordugrid:finished"/>
                    <enumeration value="nordugrid:deleted"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ComputingActivityType_t">
        <restriction base="string">
            <enumeration value="collectionelement"/>
            <enumeration value="parallelelement"/>
            <enumeration value="single"/>
            <enumeration value="workflownode"/>
        </restriction>
    </simpleType>

    <!--<simpleType name="ComputingManagerType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="bqs"/>
                    <enumeration value="condor"/>
                    <enumeration value="fork"/>
                    <enumeration value="loadleveler"/>
                    <enumeration value="lsf"/>
                    <enumeration value="openbps"/>
                    <enumeration value="gridengine"/>
                    <enumeration value="torque"/>
                    <enumeration value="torquemaui"/>
                    <enumeration value="slurm"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>-->

    <simpleType name="ContactType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="general"/>
                    <enumeration value="security"/>
                    <enumeration value="sysadmin"/>
                    <enumeration value="usersupport"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="CPUMultiplicity_t">
        <restriction base="string">
            <enumeration value="multicpu-multicore"/>
            <enumeration value="multicpu-singlecore"/>
            <enumeration value="singlecpu-multicore"/>
            <enumeration value="singlecpu-singlecore"/>
        </restriction>
    </simpleType>

    <simpleType name="DataStoreType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="disk"/>
                    <enumeration value="optical"/>
                    <enumeration value="tape"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="DateTime_t">
        <restriction base="xs:dateTime">
            <pattern value="\d{4}-\d\d-\d\dT\d\d:\d\d:\d\dZ"/>
        </restriction>
    </simpleType>

    <simpleType name="DN_t">
        <restriction base="string"/>
    </simpleType>

    <simpleType name="EndpointHealthState_t">
        <restriction base="string">
            <enumeration value="critical"/>
            <enumeration value="ok"/>
            <enumeration value="other"/>
            <enumeration value="unknown"/>
            <enumeration value="warning"/>
        </restriction>
    </simpleType>

    <simpleType name="EndpointTechnology_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="corba"/>
                    <enumeration value="jndi"/>
                    <enumeration value="webservice"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ExpirationMode_t">
        <restriction base="string">
            <enumeration value="neverexpire"/>
            <enumeration value="releasewhenexpired"/>
            <enumeration value="warnwhenexpired"/>
        </restriction>
    </simpleType>

    <simpleType name="ExtendedBoolean_t">
        <restriction base="string">
            <enumeration value="true"/>
            <enumeration value="false"/>
            <enumeration value="undefined"/>
        </restriction>
    </simpleType>

    <simpleType name="InterfaceName_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="ogf.bes"/>
                    <enumeration value="ogf.srm"/>
                    <enumeration value="emi.executionservice"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="JobDescription_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="condor:classad"/>
                    <enumeration value="glite:jdl"/>
                    <enumeration value="globus:rsl"/>
                    <enumeration value="nordugrid:xrsl"/>
                    <enumeration value="ogf:jsdl"/>
                    <enumeration value="emi:adl"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="License_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="commercial"/>
                    <enumeration value="opensource"/>
                    <enumeration value="unknown"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>


    <simpleType name="NetworkInfo_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="100megabitethernet"/>
                    <enumeration value="gigabitethernet"/>
                    <enumeration value="infiniband"/>
                    <enumeration value="myrinet"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="OSFamily_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="linux"/>
                    <enumeration value="macosx"/>
                    <enumeration value="solaris"/>
                    <enumeration value="windows"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="OSName_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="aix"/>
                    <enumeration value="centos"/>
                    <enumeration value="debian"/>
                    <enumeration value="fedora"/>
                    <enumeration value="gentoo"/>
                    <enumeration value="leopard"/>
                    <enumeration value="snowleopard"/>
                    <enumeration value="mandrake"/>
                    <enumeration value="redhatenterprise"/>
                    <enumeration value="scientificlinux"/>
                    <enumeration value="suse"/>
                    <enumeration value="ubuntu"/>
                    <enumeration value="windowsxp"/>
                    <enumeration value="windows7"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ParallelSupport_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="mpi"/>
                    <enumeration value="openmp"/>
                    <enumeration value="none"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="Platform_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="amd64"/>
                    <enumeration value="i386"/>
                    <enumeration value="itanium"/>
                    <enumeration value="powerpc"/>
                    <enumeration value="sparc"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="PolicyScheme_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="basic"/>
                    <enumeration value="gacl"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="QualityLevel_t">
        <restriction base="string">
            <enumeration value="development"/>
            <enumeration value="pre-production"/>
            <enumeration value="production"/>
            <enumeration value="testing"/>
        </restriction>
    </simpleType>

    <simpleType name="ReservationPolicy_t">
        <restriction base="string">
            <enumeration value="mandatory"/>
            <enumeration value="none"/>
            <enumeration value="optional"/>
        </restriction>
    </simpleType>

    <simpleType name="SchedulingPolicy_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="fairshare"/>
                    <enumeration value="fifo"/>
                    <enumeration value="random"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ServiceType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="org.ogf.glue"/>
                    <enumeration value="org.glite.fts"/>
                    <enumeration value="org.glite.lb"/>
                    <enumeration value="org.glite.wms"/>
                    <enumeration value="org.nordugrid.accounting.mars"/>
                    <enumeration value="org.nordugrid.execution.arex"/>
                    <enumeration value="org.nordugrid.execution.janitor"/>
                    <enumeration value="org.nordugrid.execution.paul"/>
                    <enumeration value="org.nordugrid.execution.sched"/>
                    <enumeration value="org.nordugrid.infosys.eils"/>
                    <enumeration value="org.nordugrid.infosys.isis"/>
                    <enumeration value="org.nordugrid.infosys.rte-catalog"/>
                    <enumeration value="org.nordugrid.security.charon"/>
                    <enumeration value="org.nordugrid.security.delegation"/>
                    <enumeration value="org.nordugrid.security.saml"/>
                    <enumeration value="org.nordugrid.security.slcs"/>
                    <enumeration value="org.nordugrid.storage.ahash"/>
                    <enumeration value="org.nordugrid.storage.bartender"/>
                    <enumeration value="org.nordugrid.storage.hopi"/>
                    <enumeration value="org.nordugrid.storage.librarian"/>
                    <enumeration value="org.nordugrid.storage.shepherd"/>
                    <enumeration value="org.nordugrid.tests.echo"/>
                    <enumeration value="org.nordugrid.tests.echo_java"/>
                    <enumeration value="org.nordugrid.tests.echo_python"/>
                    <enumeration value="org.nordugrid.tests.isistest"/>
                    <enumeration value="org.terragrid.gridftp"/>
                    <enumeration value="org.terragrid.condor-g"/>
                    <enumeration value="org.terragrid.globus-mds4"/>
                    <enumeration value="org.terragrid.gpfs"/>
                    <enumeration value="org.terragrid.gsi-openssh"/>
                    <enumeration value="org.terragrid.prewsgram"/>
                    <enumeration value="org.terragrid.rft"/>
                    <enumeration value="org.terragrid.srb"/>
                    <enumeration value="org.terragrid.ws-delegation"/>
                    <enumeration value="org.terragrid.ws-gram"/>
                    <enumeration value="org.terragrid.ws-ogsadai"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="ServingState_t">
        <restriction base="string">
            <enumeration value="closed"/>
            <enumeration value="draining"/>
            <enumeration value="production"/>
            <enumeration value="queueing"/>
        </restriction>
    </simpleType>

    <simpleType name="Staging_t">
        <restriction base="string">
            <enumeration value="none"/>
            <enumeration value="stagingin"/>
            <enumeration value="staginginout"/>
            <enumeration value="stagingout"/>
        </restriction>
    </simpleType>

    <simpleType name="StorageAccessProtocolType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="afs"/>
                    <enumeration value="dcap"/>
                    <enumeration value="file"/>
                    <enumeration value="gsidcap"/>
                    <enumeration value="gsiftp"/>
                    <enumeration value="gsirfio"/>
                    <enumeration value="http"/>
                    <enumeration value="https"/>
                    <enumeration value="nfs"/>
                    <enumeration value="rfio"/>
                    <enumeration value="root"/>
                    <enumeration value="xrootd"/>
                    <enumeration value="uftp"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="StorageCapacity_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="online"/>
                    <enumeration value="installedonline"/>
                    <enumeration value="nearline"/>
                    <enumeration value="installednearline"/>
                    <enumeration value="offline"/>
                    <enumeration value="cache"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="StorageManagerType_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="castor"/>
                    <enumeration value="dcache"/>
                    <enumeration value="enstore"/>
                    <enumeration value="gpfs"/>
                    <enumeration value="sse"/>
                    <enumeration value="tsm"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="RetentionPolicy_t">
        <restriction base="string">
            <annotation>
                <appinfo>
                    <enumeration value="custodial"/>
                    <enumeration value="output"/>
                    <enumeration value="replica"/>
                </appinfo>
            </annotation>
        </restriction>
    </simpleType>

    <simpleType name="Latitude_t">
        <restriction base="float">
            <minInclusive value="-90"/>
            <maxInclusive value="90"/>
        </restriction>
    </simpleType>

    <simpleType name="Longitude_t">
        <restriction base="float">
            <minExclusive value="-180"/>
            <maxInclusive value="180"/>
        </restriction>
    </simpleType>

    <simpleType name="LocalID_t">
        <restriction base="string">
            <pattern value="[a-zA-Z][a-zA-Z_0-9\-\.:]*"/>
        </restriction>
    </simpleType>
    
    <simpleType name="ID_t">
        <restriction base="anyURI">
            <!-- TODO Decide if we want to restrict the format of an ID_t to anyURI. 
             The conceptual spec specifies URI as the global unique ID format
             (see Entity class). However, should we restrict the 
             values to URIs (e.g. GOCDB does not use URIs for unique IDs).
             Maybe this should restrict on string instead. 
            -->
        </restriction>
    </simpleType>
    
    <!-- END DATA TYPES -->

</schema>
